import { Canvas, Meta, Source } from '@storybook/addon-docs/blocks';

import {
  FakeCanvas,
  FieldArgTypes,
  FieldLayoutAndSizing,
  FormikDemo,
  ReactHookFormDemo,
  TableOfContents,
} from '@/docs';

import { Radios } from './Radios';
import * as Stories from './Radios.stories';

<Meta of={Stories} />

# `<Radios>`

Radios renders multiple Radio as one field in a Fieldset.

<FakeCanvas>
  <Radios
    label="Quel numéro?"
    options={[
      { value: 'un', label: 'Un' },
      { value: 'deux', label: 'Deux' },
      { value: 'trois', label: 'Trois' },
    ]}
    sizer={Radios.sizer.medium}
  />
</FakeCanvas>

<TableOfContents />

<FieldArgTypes of={Radios} reactDocs="input" wrapper="Fieldset" />

## Adding radios

In most situations, you can just use the `options` prop to configure the
individual radios. The Radios component will manage the interior layout.

<Canvas of={Stories.StandardLayout} sourceState="shown" />

For more fine-grained control of the individual radios, such as to add
additional elements, or take control of the individual Radio props, you can pass
a render function as the `children`.

<strong>
  As shown, it’s important to use the callback provided to pass props down to
  the individual radios, so that group is functional.
</strong>

<Canvas of={Stories.CustomLayout} sourceState="none" />

<Source
  dark
  language="tsx"
  code={`
    <Radios
      label="How custom do you like it?"
      defaultValue="pretty"
    >
      {(radio) => (
        <div className="flex flex-row items-baseline gap-x-4">
          <Radio {...radio({ value: 'kinda' })} label="A little custom" />
          <span className="text-xs text-gray-500">or</span>
          <Radio
            {...radio({ value: 'pretty' })}>
            label={
              <div className="font-bold text-blue-500">Pretty custom</div>
            }
          />
          <span className="text-xs text-gray-500">or</span>
          <Radio
            {...radio({ value: 'too', disabled: true })}
            className="-rotate-30"
            sizer={Radio.sizer.large}
            label="Too custom"
          />
        </div>
      )}
    </Radios>
  `}
/>

<FieldLayoutAndSizing of={Radios} wrapper="Fieldset" stories={Stories} />

<ReactHookFormDemo
  fieldName="firstNameRHF"
  initialValue="nick"
  component={Radios}
  componentProps={{
    label: 'First name',
    hint: 'Try editting me!',
    options: [
      {
        value: 'nick',
        label: 'Nick',
      },
      {
        value: 'dunkman',
        label: 'Dunkman',
      },
    ],
  }}
/>

<FormikDemo
  fieldName="firstNameFormik"
  initialValue="nick"
  component={Radios}
  componentProps={{
    label: 'First name',
    hint: 'Try editting me!',
    options: [
      {
        value: 'nick',
        label: 'Nick',
      },
      {
        value: 'dunkman',
        label: 'Dunkman',
      },
    ],
  }}
/>
