import { Canvas, Meta } from '@storybook/addon-docs/blocks';

import Docs from '@/docs';

import { Money } from './Money';
import * as Stories from './Money.stories';

<Meta of={Stories} />

<Docs.ComponentHeading of="Money" />

A form control that allows users to enter a monetary amount.

<Docs.FauxCanvas>
  <Money defaultValue="1234567.89" />
</Docs.FauxCanvas>

<Docs.TableOfContents />

<Docs.Props of={Stories} nativeBase="input" wrapper="Field" />
<Docs.ControlStates
  of={Stories}
  valuable
  note={`
    Note: when controlled, <ComponentName of="Money" /> behaves slightly
    differently from other form controls. Since the input’s value needs to be
    disconnected from the controlled \`value\` to enable currency formatting,
    the input’s value can change even if you aren’t passing in the new
    controlled value. However, if you do pass in a numerically different
    controlled value, everything will cascade accordingly.
  `}
/>

## Currency formatting & constraints

<Canvas of={Stories.CurrencyConversion} />

## Working with the value

TODO

<Docs.Sizers of={Stories} wrapper="Field" />
<Docs.FormLibraryCompatibility
  of={Stories}
  fieldName="player"
  initialValue="1234.56"
  component={Money}
  componentProps={{
    label: 'Player name',
    hint: 'Try editting me!',
  }}
/>
